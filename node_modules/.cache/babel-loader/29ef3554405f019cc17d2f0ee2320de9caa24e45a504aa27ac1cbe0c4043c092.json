{"ast":null,"code":"import React,{useState}from\"react\";import{Button,TextField,Typography,Paper,IconButton,FormControl,InputLabel,Select,MenuItem}from\"@mui/material\";import CloseIcon from\"@mui/icons-material/Close\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const menuProps={disablePortal:true,PaperProps:{style:{maxHeight:200,width:300,zIndex:1500,left:0,right:\"auto\",overflowY:\"auto\"}}};const ChatForm=_ref=>{let{onClose}=_ref;const[formData,setFormData]=useState({name:\"\",phone:\"\",email:\"\",address:\"\",appointmentType:\"\",bestTime:\"\"});const handleChange=e=>{setFormData(prev=>({...prev,[e.target.name]:e.target.value}));};const handleSubmit=async()=>{try{const payload={username:formData.name,phoneNumber:formData.phone,email:formData.email,subject:formData.appointmentType,address:formData.address,bestTime:formData.bestTime};const response=await fetch(\"https://prohvac.info/api/sendEmail/send\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});if(!response.ok)throw new Error(\"Ошибка при отправке формы\");alert(\"Форма успешно отправлена!\");setFormData({name:\"\",phone:\"\",email:\"\",address:\"\",appointmentType:\"\",bestTime:\"\"});onClose();}catch(error){alert(\"Не удалось отправить форму\");console.error(error);}};return/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{position:\"fixed\",bottom:\"20px\",right:\"20px\",zIndex:9999,color:\"#152339\",padding:\"20px\",borderRadius:\"10px\",width:400,maxWidth:400,backgroundColor:\"white\",\"@media (max-width: 600px)\":{width:\"80%\",right:\"5%\",left:\"5%\"}},children:[/*#__PURE__*/_jsx(IconButton,{sx:{position:\"absolute\",top:5,right:5},onClick:onClose,children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{textAlign:\"center\",mb:2},children:\"Request an Appointment\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(TextField,{label:\"Name\",variant:\"outlined\",fullWidth:true,margin:\"normal\",name:\"name\",value:formData.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Phone Number\",variant:\"outlined\",fullWidth:true,margin:\"normal\",name:\"phone\",value:formData.phone,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Email Address\",variant:\"outlined\",fullWidth:true,margin:\"normal\",name:\"email\",type:\"email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Address\",variant:\"outlined\",fullWidth:true,margin:\"normal\",name:\"address\",value:formData.address,onChange:handleChange}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"normal\",required:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"appointment-type-label\",children:\"Appointment Type\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"appointment-type-label\",name:\"appointmentType\",value:formData.appointmentType,label:\"Appointment Type\",onChange:handleChange,MenuProps:menuProps,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"Schedule Service or Repair\",children:\"Schedule Service or Repair\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"New or Replacement System\",children:\"New or Replacement System\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Ask a General Question\",children:\"Ask a General Question\"})]})]}),/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,margin:\"normal\",required:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"best-time-label\",children:\"Best time to contact you\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"best-time-label\",name:\"bestTime\",value:formData.bestTime,label:\"Best time to contact you\",onChange:handleChange,MenuProps:menuProps,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"8am - 11am\",children:\"8am - 11am\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"11am - 3pm\",children:\"11am - 3pm\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"3pm - 6pm\",children:\"3pm - 6pm\"})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleSubmit,sx:{mt:2,background:\"linear-gradient(90deg, #5F7EEA 0%, #5FC4EA 100%)\",color:\"#fff\",width:\"200px\",display:\"block\",mx:\"auto\"},children:\"Submit Request\"})]})]});};export default ChatForm;","map":{"version":3,"names":["React","useState","Button","TextField","Typography","Paper","IconButton","FormControl","InputLabel","Select","MenuItem","CloseIcon","jsx","_jsx","jsxs","_jsxs","menuProps","disablePortal","PaperProps","style","maxHeight","width","zIndex","left","right","overflowY","ChatForm","_ref","onClose","formData","setFormData","name","phone","email","address","appointmentType","bestTime","handleChange","e","prev","target","value","handleSubmit","payload","username","phoneNumber","subject","response","fetch","method","headers","body","JSON","stringify","ok","Error","alert","error","console","elevation","sx","position","bottom","color","padding","borderRadius","maxWidth","backgroundColor","children","top","onClick","variant","textAlign","mb","label","fullWidth","margin","onChange","required","type","id","labelId","MenuProps","mt","background","display","mx"],"sources":["/Users/abdulbosit/Desktop/pro-hvac/src/components/ChatBot/ChatForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Typography,\r\n  Paper,\r\n  IconButton,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n\r\nconst menuProps = {\r\n  disablePortal: true,\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: 200,\r\n      width: 300,\r\n      zIndex: 1500,\r\n      left: 0,\r\n      right: \"auto\",\r\n      overflowY: \"auto\",\r\n    },\r\n  },\r\n};\r\n\r\nconst ChatForm = ({ onClose }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    appointmentType: \"\",\r\n    bestTime: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormData((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const payload = {\r\n        username: formData.name,\r\n        phoneNumber: formData.phone,\r\n        email: formData.email,\r\n        subject: formData.appointmentType,\r\n        address: formData.address,\r\n        bestTime: formData.bestTime,\r\n      };\r\n\r\n      const response = await fetch(\"https://prohvac.info/api/sendEmail/send\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      if (!response.ok) throw new Error(\"Ошибка при отправке формы\");\r\n\r\n      alert(\"Форма успешно отправлена!\");\r\n      setFormData({\r\n        name: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        address: \"\",\r\n        appointmentType: \"\",\r\n        bestTime: \"\",\r\n      });\r\n      onClose();\r\n    } catch (error) {\r\n      alert(\"Не удалось отправить форму\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper\r\n      elevation={3}\r\n      sx={{\r\n        position: \"fixed\",\r\n        bottom: \"20px\",\r\n        right: \"20px\",\r\n        zIndex: 9999,\r\n        color: \"#152339\",\r\n        padding: \"20px\",\r\n        borderRadius: \"10px\",\r\n        width: 400,\r\n        maxWidth: 400,\r\n        backgroundColor: \"white\",\r\n        \"@media (max-width: 600px)\": {\r\n          width: \"80%\",\r\n          right: \"5%\",\r\n          left: \"5%\",\r\n        },\r\n      }}\r\n    >\r\n      <IconButton\r\n        sx={{ position: \"absolute\", top: 5, right: 5 }}\r\n        onClick={onClose}\r\n      >\r\n        <CloseIcon />\r\n      </IconButton>\r\n\r\n      <Typography variant=\"h6\" sx={{ textAlign: \"center\", mb: 2 }}>\r\n        Request an Appointment\r\n      </Typography>\r\n\r\n      <form>\r\n        <TextField\r\n          label=\"Name\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          name=\"name\"\r\n          value={formData.name}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <TextField\r\n          label=\"Phone Number\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          name=\"phone\"\r\n          value={formData.phone}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <TextField\r\n          label=\"Email Address\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          value={formData.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <TextField\r\n          label=\"Address\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          name=\"address\"\r\n          value={formData.address}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <FormControl fullWidth margin=\"normal\" required>\r\n          <InputLabel id=\"appointment-type-label\">Appointment Type</InputLabel>\r\n          <Select\r\n            labelId=\"appointment-type-label\"\r\n            name=\"appointmentType\"\r\n            value={formData.appointmentType}\r\n            label=\"Appointment Type\"\r\n            onChange={handleChange}\r\n            MenuProps={menuProps}\r\n          >\r\n            <MenuItem value=\"Schedule Service or Repair\">\r\n              Schedule Service or Repair\r\n            </MenuItem>\r\n            <MenuItem value=\"New or Replacement System\">\r\n              New or Replacement System\r\n            </MenuItem>\r\n            <MenuItem value=\"Ask a General Question\">\r\n              Ask a General Question\r\n            </MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <FormControl fullWidth margin=\"normal\" required>\r\n          <InputLabel id=\"best-time-label\">Best time to contact you</InputLabel>\r\n          <Select\r\n            labelId=\"best-time-label\"\r\n            name=\"bestTime\"\r\n            value={formData.bestTime}\r\n            label=\"Best time to contact you\"\r\n            onChange={handleChange}\r\n            MenuProps={menuProps}\r\n          >\r\n            <MenuItem value=\"8am - 11am\">8am - 11am</MenuItem>\r\n            <MenuItem value=\"11am - 3pm\">11am - 3pm</MenuItem>\r\n            <MenuItem value=\"3pm - 6pm\">3pm - 6pm</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={handleSubmit}\r\n          sx={{\r\n            mt: 2,\r\n            background: \"linear-gradient(90deg, #5F7EEA 0%, #5FC4EA 100%)\",\r\n            color: \"#fff\",\r\n            width: \"200px\",\r\n            display: \"block\",\r\n            mx: \"auto\",\r\n          }}\r\n        >\r\n          Submit Request\r\n        </Button>\r\n      </form>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default ChatForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}